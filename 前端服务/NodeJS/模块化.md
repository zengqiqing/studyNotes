

nodejsä¸­æ ¹æ®æ¨¡å—æ¥æºçš„ä¸åŒï¼Œå°†æ¨¡å—åˆ†ä¸ºäº†3å¤§ç±»ï¼š

- å†…ç½®æ¨¡å—ï¼ˆå†…ç½®æ¨¡å—æ˜¯ç”±nodejså®˜æ–¹æä¾›çš„ï¼Œä¾‹å¦‚fsï¼Œpathï¼Œhttpç­‰ï¼‰

- è‡ªå®šä¹‰æ¨¡å—ï¼ˆç”¨æˆ·åˆ›å»ºçš„æ¯ä¸ª.jsæ–‡ä»¶ï¼Œéƒ½æ˜¯è‡ªå®šä¹‰æ¨¡å—ï¼‰

- ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆç”±ç¬¬ä¸‰æ–¹å¼€å‘å‡ºæ¥çš„æ¨¡å—ï¼Œå¹¶éå®˜æ–¹æä¾›çš„å†…ç½®æ¨¡å—ï¼Œä¹Ÿä¸æ˜¯ç”¨æˆ·åˆ›å»ºçš„è‡ªå®šä¹‰æ¨¡å—ï¼Œä½¿ç”¨å‰éœ€å…ˆä¸‹è½½ï¼‰

  æ³¨æ„ï¼šä½¿ç”¨requireæ–¹æ³•åŠ è½½å…¶ä»–æ¨¡å—æ—¶ï¼Œä¼šæ‰§è¡Œè¢«åŠ è½½æ¨¡å—ä¸­çš„ä»£ç 

```javascript
//åŠ è½½å†…ç½®çš„fsæ¨¡å—
const fs = require('fs')

//åŠ è½½ç”¨æˆ·çš„è‡ªå®šä¹‰æ¨¡å—
const custom = require('./custom.js')

//åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—
const moment = require('moment')
```

#### nodejsä¸­çš„æ¨¡å—ä½œç”¨åŸŸ

ä»€ä¹ˆæ˜¯æ¨¡å—ä½œç”¨åŸŸï¼Ÿ

å’Œå‡½æ•°ä½œç”¨åŸŸç±»ä¼¼ï¼Œåœ¨è‡ªå®šä¹‰æ¨¡å—ä¸­è‡ªå®šä¹‰çš„å˜é‡ï¼Œæ–¹æ³•ç­‰æˆå‘˜ï¼Œåªèƒ½åœ¨å½“å‰æ¨¡å—å†…è¢«è®¿é—®ï¼Œè¿™ç§æ¨¡å—çº§åˆ«çš„è®¿é—®é™åˆ¶ï¼Œå«åšæ¨¡å—ä½œç”¨åŸŸã€‚é€šè¿‡æ¨¡å—ä½œç”¨åŸŸå¯ä»¥é˜²æ­¢å…¨å±€æ±¡æŸ“çš„é—®é¢˜.

å¯¹å¤–å…±äº«æ¨¡å—ä½œç”¨åŸŸçš„æˆå‘˜ï¼š

å¦‚ä½•å°†æ¨¡å—ä½œç”¨åŸŸé‡Œçš„æˆå‘˜å…±äº«å‡ºå»ï¼Œç»™åˆ«äººä½¿ç”¨å‘¢ï¼Ÿ

å‰è¨€ï¼šåœ¨æ¯ä¸ª.jsçš„è‡ªå®šä¹‰æ¨¡å—ä¸­éƒ½æœ‰ä¸€ä¸ªmoduleå¯¹è±¡ï¼Œä»–é‡Œé¢å­˜å‚¨äº†å’Œå½“å‰æ¨¡å—æœ‰å…³çš„ä¿¡æ¯ã€‚

é€šè¿‡ä½¿ç”¨moduleå¯¹è±¡ä¸­çš„export(module.export)æ¥å…±äº«å½“å‰æ¨¡å—ä¸­çš„å†…éƒ¨ä¿¡æ¯ã€‚

```
//å¯¼å‡ºå†…éƒ¨æ¨¡å—
//åœ¨ä¸€ä¸ªè‡ªå®šä¹‰æ¨¡å—ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œmodule.exports = {}

// å‘module.exportsä¸­æŒ‚è½½ä¸€ä¸ªusernameå±æ€§
module.exports.username = 'å¼ é£’'
module.exports.sayHello = ()=>{
    return  'is me'
}
```



```
//å¼•å…¥å¤–éƒ¨æ¨¡å—
//åœ¨å¤–æ¥ä½¿ç”¨requireå¯¼å…¥ä¸€ä¸ªè‡ªå®šä¹‰æ¨¡å—çš„æ—¶å€™ï¼Œå¾—åˆ°çš„æˆå‘˜å°±æ˜¯å“ªä¸ªæ¨¡å—ä¸­ï¼Œé€šè¿‡module.exportsæ‰€æŒ‡å‘çš„å¯¹è±¡
const m = require('./11demo.js')
console.log(m);
```

ä½¿ç”¨require()æ–¹æ³•å¯¼å…¥æ¨¡å—æ—¶ï¼Œå¯¼å…¥çš„ç»“æœï¼Œæ°¸è¿œä»¥module.exportsæŒ‡å‘çš„å¯¹è±¡ä¸ºå‡†

ä¸‹é¢çš„ğŸŒ°ä¸­ï¼Œmodule.exportsæ‰“å°å‡ºæ¥çš„å°±ä¼šæ˜¯ä¸‹é¢çš„é‚£ä¸ªå†…å®¹ï¼Œå› ä¸ºä»–æŒ‡å‘çš„å¯¹è±¡åœ°å€æ”¹å˜äº†,module.exportsæŒ‡å‘åœ°å€æ˜¯æŒ‡å‘æœ€æ–°çš„å¯¹è±¡åœ°å€ã€‚

```
//åœ¨ä¸€ä¸ªè‡ªå®šä¹‰æ¨¡å—ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œmodule.exports = {}

// å‘module.exportsä¸­æŒ‚è½½ä¸€ä¸ªusernameå±æ€§
module.exports.username = 'å¼ é£’'
module.exports.sayHello = ()=>{
    return  'hello,is me'
}

module.exports={
    name:'coco',
    sayhi:()=>{
        console.log('hihihihi')
    }
}
```



### å‘å¤–å…±äº«æ¨¡å—ä½œç”¨åŸŸä¸­çš„æˆå‘˜

1.exportså¯¹è±¡

ç”±äºmodule.exportså•è¯å†™èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œä¸ºäº†ç®€åŒ–å‘å¤–å…±äº«æˆå‘˜çš„ä»£ç ï¼Œnodeæä¾›äº†exportså¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œexportså’Œmodule.exportsæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œæœ€ç»ˆå…±äº«çš„ç»“æœè¿˜æ˜¯ä»¥module.exportsæŒ‡å‘çš„å¯¹è±¡ä¸ºå‡†

#### exportså’Œmodule.exportsçš„ä½¿ç”¨è¯¯åŒºï¼š

â€» æ—¶åˆ»è°¨è®°ï¼Œrequire()æ¨¡å—æ—¶ï¼Œå¾—åˆ°çš„æ°¸è¿œæ˜¯module.exportsæŒ‡å‘çš„å¯¹è±¡

```javascript
exports.usename = 'lily'
module.exports = {
    name:'coco'
} 
// { name: 'coco' }
```



```javascript
exports={
    usename : 'lily'
}
module.exports.name='coco'

//{ name: 'coco' }
```

```javascript
module.exports.usename = 'lily'
exports = {
    name:'coco'
}
//{ usename: 'lily' }
```

```javascript
exports.usename = 'lily'
module.exports.name = 'coco'
//{ usename: 'lily', name: 'coco' }
```

```javascript
exports={
    usename : 'lily'
}
module.exports={
    name : 'coco'
}
//{ name: 'coco' }
```

```javascript
exports={
    usename : 'lily'
}
module.exports = exports
module.exports.age=22
//{ usename: 'lily', age: 22 }
```

ä¸ºä»€ä¹ˆå‡ºç°ä¸Šé¢çš„æƒ…å†µï¼Œè¿™å°±è·ŸæŒ‡é’ˆï¼Œå †æ ˆæœ‰å…³ç³»ï¼Œç¬¬ä¸‰ä¸ªä¾‹å­ä¸­ï¼Œå†…å­˜åœ°å€æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥ä»–ä»¬æŒ‡å‘çš„è¿˜æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚

### nodejsä¸­çš„æ¨¡å—åŒ–è§„èŒƒ

nodejséµå¾ªäº†commonjsæ¨¡å—è§„èŒƒï¼Œcommonjsè§„å®šäº†æ¨¡å—çš„ç‰¹æ€§å’Œå„æ¨¡å—ä¹‹é—´å¦‚ä½•äº’ç›¸ä¾èµ–

commonjsè§„å®šï¼š

1.æ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œmoduleå˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚

2.moduleå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»–çš„exportså±æ€§ï¼ˆå³module.exportsï¼‰æ˜¯å¯¹å¤–çš„æ¥å£

3.åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„module.exportså±æ€§ï¼Œrequire()æ–¹æ³•å±äºåŠ è½½æ¨¡å—