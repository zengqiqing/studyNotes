### é«˜çº§ç±»å‹

- äº¤å‰ç±»å‹ï¼Ÿï¼Ÿï¼Ÿ

- è”åˆç±»å‹

  - ç‰¹æ€§ï¼š1.å‚æ•°å¯ä»¥æŒ‡å®šçš„å¤šä¸ªç±»å‹

    ```typescript
    //åœºæ™¯ä¸€ï¼šå½“ä¸€ä¸ªå‡½æ•°å¸Œæœ›ä¼ å…¥numberæˆ–stringç±»å‹ï¼Œä½†å¦‚æœå®šä¹‰çš„å‚æ•°ç±»å‹æ˜¯anyï¼Œé‚£ä¹ˆèŒƒå›´å¤ªå¹¿æ³›ï¼Œå®¹æ˜“å‡ºç°bugï¼ŒåƒğŸ‘‡çš„ğŸŒ°ä¸€æ ·
    function func(params1:string,params2:any){
        if(typeof params2 === "string"){
            return params1 + params2
        }
        if(typeof params2 === 'number'){
            return params2.toFixed(2);
        }
        throw new Error(`Expected string or number, got '${params2}'.`);
    }
    let str = func('coco',1) //ok
    console.log(str);
    // let str = func('coco',true) //å¦‚æœæˆ‘ä¼ å…¥params2çš„å‚æ•°æ˜¯å¸ƒå°”ç±»å‹ï¼Œé‚£ä¹ˆå®¹æ˜“å‡ºé”™å•¦ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥é™å®šä¸€ä¸‹params2ä¼ å…¥çš„ç±»å‹ç§ç±»ã€‚çœ‹ğŸ‘€ä¸‹é¢çš„ä½¿ç”¨è”åˆç±»å‹å»è§£å†³è¿™ä¸ªé—®é¢˜å§ï¼ŒğŸ‘‡
    
    //æ­£ç¡®çš„ä½¿ç”¨
    function func(params1:string,params2:string|number){
        if(typeof params2 === "string"){
            return params1 + params2
        }
        if(typeof params2 === 'number'){
            return params2.toFixed(2);
        }
        throw new Error(`Expected string or number, got '${params2}'.`);
    }
    // let str = func('coco',1) //ok
    let str = func('coco',true)//è¿™ä¸ªtureè¿™é‡Œå°±ä¼šé£˜çº¢çº¿å•¦ï¼
    console.log(str);
    
    ```

    â€‹	2.ä¸€ä¸ªå€¼æ˜¯è”åˆç±»å‹ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„æˆå‘˜

    ```typescript
    interface Bird {
        fly();
        layEggs();
    }
    
    interface Fish {
        swim();
        layEggs();
    }
    
    function getSmallPet(): Fish | Bird {
        // ...
    }
    
    let pet = getSmallPet();
    pet.layEggs(); // okay getSmallPetå‡½æ•°æ£€æŸ¥ç±»å‹æ˜¯æ¥å£Birdå’Œæ¥å£Fishï¼Œä»–ä»¬ä¸¤è€…éƒ½æœ‰layEggsæ–¹æ³•ï¼Œæ‰€ä»¥æ‰ä¼šæ˜¾ç¤ºæ­£ç¡®
    pet.swim();    // errors æ¥å£swimåªå­˜åœ¨æ¥å£Fishé‡Œé¢ï¼Œæ‰€æœ‰errorå•¦
    ```

- è‡ªå®šä¹‰çš„ç±»å‹ä¿æŠ¤ï¼šæ¥ä¸Šå›è®¿é—®è”åˆç±»å‹çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å‹ä¿æŠ¤æ¥å¤„ç†

  ```typescript
  function isFish(pet: Fish | Bird): pet is Fish {
      return (<Fish>pet).swim !== undefined;
  }
  
  let pet = getSmallPet();
  if ((<Fish>pet).swim) {
      (<Fish>pet).swim();
  }
  else {
      (<Bird>pet).fly();
  }
  ```

  

- Typeof ç±»å‹ä¿æŠ¤

  ```typescript
  //ç±»å‹çš„æ£€æŸ¥ç›´æ¥åœ¨ä»£ç é‡Œæ£€æŸ¥ç±»å‹äº†
  function padLeft(value: string, padding: string | number) {
      if (typeof padding === "number") {
          return Array(padding + 1).join(" ") + value;
      }
      if (typeof padding === "string") {
          return padding + value;
      }
      throw new Error(`Expected string or number, got '${padding}'.`);
  }
  //è¿™äº›typeofç±»å‹ä¿æŠ¤åªæœ‰ä¸¤ç§å½¢å¼èƒ½è¢«è¯†åˆ«ï¼štypeof v === "typename"å’Œtypeof v !== "typename"ï¼Œ"typename"å¿…é¡»æ˜¯"number"ï¼Œ"string"ï¼Œ"boolean"æˆ–"symbol"ã€‚ ä½†æ˜¯TypeScriptå¹¶ä¸ä¼šé˜»æ­¢ä½ ä¸å…¶å®ƒå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œè¯­è¨€ä¸ä¼šæŠŠé‚£äº›è¡¨è¾¾å¼è¯†åˆ«ä¸ºç±»å‹ä¿æŠ¤
  ```

  

- å¯ä»¥ä½¿ç”¨è”åˆç±»å‹æ¥å°†å€¼å®šä¹‰ä¸ºnullæˆ–undefinedç±»å‹

  - å¯ä»¥è®¾ç½®typescript.jsonæ–‡ä»¶çš„strictNullChecks,å°†nullå’Œundefinedçš„èµ‹å€¼é”™è¯¯è§£å†³æ‰

  ```typescript
  let s = "foo";
  s = null; // é”™è¯¯, 'null'ä¸èƒ½èµ‹å€¼ç»™'string'
  let sn: string | null = "bar";
  sn = null; // å¯ä»¥
  
  sn = undefined; // error, 'undefined'ä¸èƒ½èµ‹å€¼ç»™'string | null'
  
  //æ³¨æ„ï¼ŒæŒ‰ç…§JavaScriptçš„è¯­ä¹‰ï¼ŒTypeScriptä¼šæŠŠnullå’ŒundefinedåŒºåˆ«å¯¹å¾…ã€‚ string | nullï¼Œstring | undefinedå’Œstring | undefined | nullæ˜¯ä¸åŒçš„ç±»å‹
  ```

- å¯é€‰å‚æ•°å’Œå¯é€‰å±æ€§

  - ä½¿ç”¨äº†`--strictNullChecks`ï¼Œå¯é€‰å‚æ•°ä¼šè¢«è‡ªåŠ¨åœ°åŠ ä¸Š`| undefined`

  ```typescript
  function f(x: number, y?: number) {
      return x + (y || 0);
  }
  f(1, 2);
  f(1);
  f(1, undefined);
  f(1, null); // error, 'null' is not assignable to 'number | undefined'
  ```

  

- 

- 

- 

- 



